---
import "../styles/globa.css"
import Layout from "../layouts/Layout.astro";
import Banner from "../components/Banner.astro";
import contact from "/public/images/hero/contact.webp"
---

<Layout>
  <Banner title="Contáctanos" description="" image={contact} />
  <section class="py-20">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <div class="bg-white p-8 rounded-lg shadow-lg">
          <h2 class="text-2xl font-bold mb-6">Envíenos un Mensaje</h2>
          <form
            id="contactForm"
            action="https://formspree.io/f/mjkgqdnb"
            class="space-y-6"
            method="POST"
            enctype="multipart/form-data"
          >
            <div>
              <label class="block text-gray-700 mb-2">Nombre</label>
              <input
                type="text"
                name="name"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-900"
                placeholder="Su nombre"
                required
              />
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Correo Electrónico</label>
              <input
                type="email"
                name="email"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-900"
                placeholder="su@email.com"
                required
              />
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Teléfono</label>
              <input
                type="tel"
                name="phone"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-900"
                placeholder="Su teléfono"
                required
              />
            </div>
            <div>
              <label class="block text-gray-700 mb-2">Mensaje</label>
              <textarea
                name="message"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-900 h-32"
                placeholder="Su mensaje..."
                required></textarea>
            </div>
            <button
              type="submit"
              class="w-full bg-primary text-white px-6 py-3 rounded-md hover:bg-blue-800 transition duration-300"
            >
              Enviar Mensaje
            </button>
          </form>
        </div>

        <div class="space-y-8">
          <div class="flex items-start space-x-4">
            <div>
              <h3 class="text-xl font-bold mb-2">Nuestra Ubicación</h3>
              <p class="text-gray-600">
                Parque Industrial Mz. F Sub Lote 7B, Tacna
              </p>
            </div>
          </div>

          <div class="flex items-start space-x-4">
            <div>
              <h3 class="text-xl font-bold mb-2">Teléfono</h3>
              <p class="text-gray-600">(052) 411409</p>
              <p class="text-gray-600">+51 990 032 706</p>
            </div>
          </div>

          <div class="flex items-start space-x-4">
            <div>
              <h3 class="text-xl font-bold mb-2">Correo Electrónico</h3>
              <p class="text-gray-600">luangsac@gmail.com</p>
            </div>
          </div>

          <div class="mt-8">
            <h3 class="text-xl font-bold mb-4">Horario de Atención</h3>
            <ul class="space-y-2 text-gray-600">
              <li>Lunes - Viernes: 9:00 AM - 5:30 PM</li>
              <li>Sábado: 9:00 AM - 1:00 PM</li>
              <li>Domingo: Cerrado</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="container mx-auto py-12">
    <h2 class="text-4xl font-bold text-center mb-12">Encuéntrenos</h2>
    <iframe
      class="w-full h-[450px]"
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3794.649699467629!2d-70.23842792651564!3d-17.995027480979275!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x915ac513dfaa898b%3A0xf3c2c634dc6dc81e!2sLuang%20Asociados%20SAC!5e0!3m2!1ses!2spe!4v1738081732650!5m2!1ses!2spe"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </section>
</Layout>

<script is:inline>
  document
    .getElementById("contactForm")
    .addEventListener("submit", async (e) => {
      e.preventDefault();
      const form = e.target;

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: new FormData(form),
          headers: {
            Accept: "application/json",
          },
        });

        if (response.ok) {
          form.reset();
          window.location.href = "/";
        } else {
          alert(
            "Hubo un error al enviar el mensaje. Por favor, inténtelo de nuevo."
          );
        }
      } catch (error) {
        alert("Error de red. Por favor, verifique su conexión.");
      }
    });
</script>
